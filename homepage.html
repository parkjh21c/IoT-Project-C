<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Weather Tracker IoT</title>
  <meta name="description" content="간단한 날씨 대시보드 템플릿 — 내용을 사용자가 채워 넣을 수 있습니다." />
  <!-- Favicon placeholder -->
  <link rel="icon" href="data:;base64,iVBORw0KGgo=" />
  <style>
    /* 간단하고 깔끔한 스타일 — 필요하면 수정하세요 */
    :root{ --bg:#0f172a; --card:#0b1220; --muted:#94a3b8; --accent:#38bdf8 }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;background:linear-gradient(180deg,#071024 0%, #0b1220 100%);color:#e6eef8;min-height:100vh}
    .container{max-width:1100px;margin:32px auto;padding:24px}
    header{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:48px;height:48px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#7dd3fc);display:flex;align-items:center;justify-content:center;font-weight:700;color:#022f40}
    h1{font-size:18px;margin:0}
    p.lead{margin:0;color:var(--muted);font-size:13px}
    .controls{display:flex;gap:8px;align-items:center}
    input[type=text]{padding:10px 12px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit;min-width:220px}
    button{padding:10px 14px;border-radius:8px;border:0;background:var(--accent);color:#022;cursor:pointer;font-weight:600}
    .layout{display:grid;grid-template-columns:1fr 360px;gap:20px;margin-top:24px}
    @media(max-width:900px){.layout{grid-template-columns:1fr} .right{order:2}}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:12px;padding:18px}
    .current{display:flex;align-items:center;gap:18px}
    .temp{font-size:48px;font-weight:700}
    .desc{color:var(--muted)}
    .meta{display:flex;gap:12px;margin-top:12px;color:var(--muted);font-size:13px}
    .forecast{display:flex;gap:10px;overflow:auto;padding-top:12px}
    .day{min-width:84px;background:rgba(255,255,255,0.02);padding:10px;border-radius:8px;text-align:center}
    .right .small{font-size:13px;color:var(--muted)}
    footer{margin-top:32px;text-align:center;color:var(--muted);font-size:13px}
    /* placeholder box for charts / maps */
    .placeholder{height:220px;border-radius:8px;background:linear-gradient(90deg, rgba(255,255,255,0.01), rgba(255,255,255,0.02));display:flex;align-items:center;justify-content:center;color:var(--muted);}
    a.link{color:var(--accent);text-decoration:none}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <div class="brand">
        <div class="logo">W</div>
        <div>
          <h1>Weather Dashboard</h1>
          <p class="lead">문구 생각중</p>
        </div>
      </div>

      <div class="controls">
        <input id="cityInput" type="text" placeholder="도시 이름 또는 우편번호 입력 (예: Seoul)" />
        <button id="searchBtn">검색</button>
        <button id="useGeoBtn">current location</button>
      </div>
    </header>

    <main class="layout">
      <section class="left">
        <div class="card">
          <div class="current">
            <div>
              <div id="location">--</div>
              <div class="desc" id="weatherDesc">날씨 설명</div>
            </div>
            <div style="margin-left:auto;text-align:right">
              <div class="temp" id="temp">--°C</div>
              <div class="small" id="feelsLike">feels like --°C</div>
            </div>
          </div>

          <div class="meta" style="margin-top:16px;">
            <div>humidity: <span id="humidity">--%</span></div>
            <div>wind: <span id="wind">-- m/s</span></div>
            <div>time: <span id="time">--</span></div>
          </div>

          <h3 style="margin-top:18px;margin-bottom:8px">Weather Forecasting</h3>
          <div class="forecast" id="forecast">
            <!-- 예보 카드(사용자가 데이터를 채워넣음) -->
            <div class="day"><div>Mon</div><div class="temp">--°</div></div>
            <div class="day"><div>Tue</div><div class="temp">--°</div></div>
            <div class="day"><div>Wed</div><div class="temp">--°</div></div>
          </div>

          <h3 style="margin-top:18px;margin-bottom:8px">Temperature Chart</h3>
          <div class="placeholder" id="chartPlaceholder">차트(여기에 Chart.js 또는 Recharts 삽입)</div>
        </div>

        <div class="card" style="margin-top:16px">
          <h3>지도 / 기상 레이어</h3>
          <div class="placeholder">지도(예: Leaflet / Mapbox)</div>
        </div>
      </section>

      <aside class="right">
        <div class="card">
          <h3>빠른 정보</h3>
          <div class="small">각 항목을 API 응답으로 채워 넣으세요.</div>
          <ul style="margin-top:12px;color:var(--muted);line-height:1.8">
            <li>대기질 (AQI)</li>
            <li>일출 / 일몰 시간</li>
            <li>강수 확률</li>
            <li>예보 세부 데이터</li>
          </ul>
        </div>

        <div class="card" style="margin-top:16px">
          <h3>설정</h3>
          <div class="small">단위: <select id="units"><option value="metric">°C / m/s</option><option value="imperial">°F / mph</option></select></div>
          <div style="margin-top:12px" class="small">API 키: <input id="apiKey" type="text" placeholder="(예: OpenWeatherMap 키)" style="width:100%;margin-top:8px;padding:8px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:transparent;color:inherit" /></div>
          <div style="margin-top:12px;font-size:13px;color:var(--muted)">주의: API 호출 코드는 클라이언트에서 바로 노출됩니다. 보안을 위해 서버 프록시 또는 서버리스 함수를 사용하는 것을 권장합니다.</div>
        </div>
      </aside>
    </main>

    <footer>
      이 템플릿은 시작용입니다. <a class="link" href="#">문서 링크</a>를 추가하세요. • 배포: GitHub 리포지토리에 index.html을 올리고 GitHub Pages를 활성화하면 즉시 배포됩니다.
    </footer>
  </div>

  <script>
    // TODO: 아래 함수들을 원하는 API에 맞게 구현
    // 예: OpenWeatherMap, WeatherAPI, Meteostat 등

    const $ = id => document.getElementById(id);

    document.getElementById('searchBtn').addEventListener('click', () => {
      const city = $('cityInput').value.trim();
      if(!city) return alert('도시를 입력하세요.');
      fetchWeatherByCity(city);
    });

    document.getElementById('useGeoBtn').addEventListener('click', () => {
      if(!navigator.geolocation) return alert('위치 정보를 사용할 수 없습니다.');
      navigator.geolocation.getCurrentPosition(pos => {
        const {latitude, longitude} = pos.coords;
        fetchWeatherByCoords(latitude, longitude);
        alert(`위치 정보 사용: (${latitude.toFixed(4)}, ${longitude.toFixed(4)})`);
      }, err => {
        alert('위치 정보를 가져오지 못했습니다: ' + err.message);
      })
    });

    function fetchWeatherByCity(city){
      // TODO: 사용자가 선택한 API 형식에 맞춰서 이 함수를 수정하세요.
      // 예시(의사 코드):
      // const url = `https://api.openweathermap.org/data/2.5/weather?q=${encodeURIComponent(city)}&appid=${apiKey}&units=${units}`;
      // fetch(url).then(r=>r.json()).then(renderCurrent).catch(console.error);
      console.log('fetchWeatherByCity 호출됨:', city);
      // 임시로 더미 데이터 렌더링
      renderCurrent(sampleDummy());
    }

    function fetchWeatherByCoords(lat, lon){
      console.log('fetchWeatherByCoords 호출됨:', lat, lon);
      renderCurrent(sampleDummy());
    }

    function renderCurrent(data){
      // data 구조에 맞춰 이 부분을 수정하세요.
      $('location').textContent = data.location || '--';
      $('weatherDesc').textContent = data.desc || '설명 없음';
      $('temp').textContent = (data.temp != null) ? `${data.temp}°` : '--°C';
      $('feelsLike').textContent = data.feels ? `체감: ${data.feels}°` : '체감: --';
      $('humidity').textContent = data.humidity != null ? `${data.humidity}%` : '--%';
      $('wind').textContent = data.wind != null ? `${data.wind} m/s` : '-- m/s';
      $('time').textContent = new Date().toLocaleString();

      // 예보 / 차트 등은 사용자가 원하는 데이터로 채우세요.
    }

    function sampleDummy(){
      return {
        location: 'Seoul, KR',
        desc: '맑음',
        temp: 18,
        feels: 17,
        humidity: 45,
        wind: 1.8
      }
    }

    // 배포 팁 (주석)
    // 1) 이 파일을 리포지토리 루트에 index.html로 저장
    // 2) GitHub 리포지토리를 만들고 파일 커밋
    // 3) Settings -> Pages 에서 'Deploy from a branch' 선택 후 main branch / root 선택
    // 4) 몇 분 후 <username>.github.io/<repo> 형태로 사이트가 열립니다.

  </script>
</body>
</html>
